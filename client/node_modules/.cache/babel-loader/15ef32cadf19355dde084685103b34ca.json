{"ast":null,"code":"import _regeneratorRuntime from\"/home/max/Desktop/DealershipApp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/max/Desktop/DealershipApp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/max/Desktop/DealershipApp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _asyncIterator from\"/home/max/Desktop/DealershipApp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncIterator\";import{useState}from'react';import Axios from'axios';import{useHistory}from'react-router';import\"./App.css\";import Profile from'./Profile';import{useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var history=useHistory();var login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var users,respone,data,_iteratorAbruptCompletion,_didIteratorError,_iteratorError,_iterator,_step,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:users=[];_context.next=3;return fetch('http://localhost:3001/login_validation');case 3:respone=_context.sent;_context.next=6;return respone.json();case 6:data=_context.sent;_iteratorAbruptCompletion=false;_didIteratorError=false;_context.prev=9;_iterator=_asyncIterator(data);case 11:_context.next=13;return _iterator.next();case 13:if(!(_iteratorAbruptCompletion=!(_step=_context.sent).done)){_context.next=23;break;}user=_step.value;if(!(user.login===username&&user.password===password)){_context.next=20;break;}localStorage.setItem('user',username);localStorage.setItem('password',password);history.push('/profile',{username:username,password:password});return _context.abrupt(\"return\");case 20:_iteratorAbruptCompletion=false;_context.next=11;break;case 23:_context.next=29;break;case 25:_context.prev=25;_context.t0=_context[\"catch\"](9);_didIteratorError=true;_iteratorError=_context.t0;case 29:_context.prev=29;_context.prev=30;if(!(_iteratorAbruptCompletion&&_iterator.return!=null)){_context.next=34;break;}_context.next=34;return _iterator.return();case 34:_context.prev=34;if(!_didIteratorError){_context.next=37;break;}throw _iteratorError;case 37:return _context.finish(34);case 38:return _context.finish(29);case 39:alert('Invalid login/password combination!!!');case 40:case\"end\":return _context.stop();}}},_callee,null,[[9,25,29,39],[30,,34,38]]);}));return function login(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username...\",onChange:function onChange(e){setUsername(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password...\",onChange:function onChange(e){setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:login,children:\"Log in\"})]})});}export default Login;","map":{"version":3,"sources":["/home/max/Desktop/DealershipApp/client/src/Pages/Login.js"],"names":["useState","Axios","useHistory","Profile","useEffect","Login","username","setUsername","password","setPassword","history","login","users","fetch","respone","json","data","user","localStorage","setItem","push","alert","e","target","value"],"mappings":"inBAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAASC,SAAT,KAA0B,OAA1B,C,wFAGA,QAASC,CAAAA,KAAT,EAAiB,CACb,cAAgCL,QAAQ,CAAC,EAAD,CAAxC,wCAAOM,QAAP,eAAiBC,WAAjB,eACA,eAAgCP,QAAQ,CAAC,EAAD,CAAxC,yCAAOQ,QAAP,eAAiBC,WAAjB,eACA,GAAIC,CAAAA,OAAO,CAAGR,UAAU,EAAxB,CAGF,GAAMS,CAAAA,KAAK,0FAAG,0OACNC,KADM,CACE,EADF,uBAEYC,CAAAA,KAAK,CAAC,wCAAD,CAFjB,QAEJC,OAFI,qCAGSA,CAAAA,OAAO,CAACC,IAAR,EAHT,QAGJC,IAHI,gHAKaA,IALb,gJAKKC,IALL,kBAMJA,IAAI,CAACN,KAAL,GAAeL,QAAf,EAA2BW,IAAI,CAACT,QAAL,GAAkBA,QANzC,2BAONU,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6Bb,QAA7B,EACAY,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCX,QAAjC,EACAE,OAAO,CAACU,IAAR,CAAa,UAAb,CAAyB,CAAEd,QAAQ,CAAEA,QAAZ,CAAsBE,QAAQ,CAAEA,QAAhC,CAAzB,EATM,4jBAcVa,KAAK,CAAC,uCAAD,CAAL,CAdU,uFAAH,kBAALV,CAAAA,KAAK,0CAAX,CAmBE,mBACA,YAAK,SAAS,CAAC,KAAf,uBACI,aAAK,SAAS,CAAC,OAAf,wBACE,6BADF,cACgB,aADhB,cAEE,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,aAA/B,CAA6C,QAAQ,CAAE,kBAACW,CAAD,CAAO,CAACf,WAAW,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CAA4B,CAA3F,EAFF,cAEgG,aAFhG,cAGE,aAHF,cAIE,cAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,aAAnC,CAAiD,QAAQ,CAAE,kBAACF,CAAD,CAAO,CAACb,WAAW,CAACa,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CAA4B,CAA/F,EAJF,cAIqG,aAJrG,cAKE,aALF,cAME,eAAQ,OAAO,CAAEb,KAAjB,oBANF,GADJ,EADA,CAYD,CAED,cAAeN,CAAAA,KAAf","sourcesContent":["import { useState } from 'react';\nimport Axios from 'axios'\nimport { useHistory } from 'react-router';\nimport \"./App.css\"\nimport Profile from './Profile';\nimport { useEffect } from \"react\";\n\n\nfunction Login() {\n    const [username, setUsername] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    let history = useHistory()\n\n\n  const login = async () => {\n      let users = []\n      const respone = await fetch('http://localhost:3001/login_validation')\n      const data = await respone.json()\n\n      for await (let user of data) {\n        if (user.login === username && user.password === password) {\n          localStorage.setItem('user', username)\n          localStorage.setItem('password', password)\n          history.push('/profile', { username: username, password: password })\n          return; \n        }\n      }\n\n      alert('Invalid login/password combination!!!')\n  }\n\n\n  \n    return (\n    <div className=\"App\">\n        <div className=\"login\">\n          <h1>Login</h1><br></br>\n          <input type=\"text\" placeholder=\"Username...\" onChange={(e) => {setUsername(e.target.value)}}/><br></br>\n          <br></br>\n          <input type=\"password\" placeholder=\"Password...\" onChange={(e) => {setPassword(e.target.value)}} /><br></br>\n          <br></br>\n          <button onClick={login}>Log in</button>\n        </div>\n    </div>\n    );\n  }\n  \n  export default Login;"]},"metadata":{},"sourceType":"module"}