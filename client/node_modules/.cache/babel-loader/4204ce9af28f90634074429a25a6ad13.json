{"ast":null,"code":"var _jsxFileName = \"/home/max/Desktop/DealershipApp/client/src/Pages/PaymentForm.js\";\nimport { useState, useRef, useEffect } from \"react\";\nimport Cards from \"react-credit-cards\";\nimport \"react-credit-cards/es/styles-compiled.css\";\nimport \"./PaymentFormStyles.css\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport React from \"react\";\nimport { withRouter } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass PaymentForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.submit = async location => {\n      const url = 'http://localhost:3001/payment';\n      const data = location.state.car;\n      console.log('asdasdasdasd');\n\n      try {\n        const response = await fetch(url, {\n          method: 'POST',\n          // или 'PUT'\n          body: JSON.stringify(data),\n          // данные могут быть 'строкой' или {объектом}!\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }); // const json = await response.json();\n        // this.setState({response: json})\n        // this.forceUpdate()\n      } catch (error) {\n        console.error('Ошибка:', error);\n      }\n    };\n\n    this.state = {\n      number: \"\",\n      name: \"\",\n      expiry: \"\",\n      cvc: \"\",\n      focus: \"\"\n    };\n    this.submit = this.submit.bind(this);\n    this.setNumber = this.setNumber.bind(this);\n    this.setName = this.setName.bind(this);\n    this.setExpiry = this.setExpiry.bind(this);\n    this.setNumber = this.setNumber.bind(this);\n    this.setNumber = this.setNumber.bind(this);\n  }\n\n  setNumber(e) {\n    this.state.number = e.target.value;\n  }\n\n  setName(e) {\n    this.state.name = e.target.value;\n  }\n\n  setExpiry(e) {\n    this.state.expiry = e.target.value;\n  }\n\n  setCvc(e) {\n    this.state.cvc = e.target.value;\n  }\n\n  setFocus(e) {\n    this.state.focus = e.target.name;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"PaymentForm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Description\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Please, enter your credit card details to make a payment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 76\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Card\",\n        children: [/*#__PURE__*/_jsxDEV(Cards, {\n          number: this.state.number,\n          name: this.state.name,\n          expiry: this.state.expiry,\n          cvc: this.state.cvc,\n          focused: this.state.focus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            name: \"number\",\n            placeholder: \"Card Number\",\n            maxLength: 16,\n            value: this.state.number,\n            onChange: this.setNumber,\n            onFocus: this.setFocus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            placeholder: \"Name\",\n            value: this.state.name,\n            maxLength: 20,\n            onChange: this.setName,\n            onFocus: this.setFocus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"expiry\",\n            placeholder: \"MM/YY\",\n            value: this.state.expiry,\n            maxLength: 4,\n            onChange: this.setExpiry,\n            onFocus: this.setFocus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            name: \"cvc\",\n            placeholder: \"CVC\",\n            value: this.state.cvc,\n            maxLength: 3,\n            onChange: this.setCvc,\n            onFocus: this.setFocus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"button-84\",\n            role: \"button\",\n            onClick: () => {\n              this.submit(this.props.location);\n            },\n            children: \"PAY\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(PaymentForm);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/max/Desktop/DealershipApp/client/src/Pages/PaymentForm.js"],"names":["useState","useRef","useEffect","Cards","useLocation","useHistory","React","withRouter","PaymentForm","Component","constructor","props","submit","location","url","data","state","car","console","log","response","fetch","method","body","JSON","stringify","headers","error","number","name","expiry","cvc","focus","bind","setNumber","setName","setExpiry","e","target","value","setCvc","setFocus","render"],"mappings":"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","sourcesContent":["import { useState, useRef, useEffect } from \"react\";\nimport Cards from \"react-credit-cards\";\nimport \"react-credit-cards/es/styles-compiled.css\";\nimport \"./PaymentFormStyles.css\"\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport React from \"react\";\nimport { withRouter } from \"react-router\";\n\n\n\n\n\nclass PaymentForm extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n        number: \"\",\n        name: \"\",\n        expiry: \"\",\n        cvc: \"\",\n        focus: \"\"\n    }\n    this.submit = this.submit.bind(this)\n    this.setNumber = this.setNumber.bind(this)\n    this.setName = this.setName.bind(this)\n    this.setExpiry = this.setExpiry.bind(this)\n    this.setNumber = this.setNumber.bind(this)\n    this.setNumber = this.setNumber.bind(this)\n  }\n\n  submit = async (location) => {\n    const url = 'http://localhost:3001/payment';\n    const data = location.state.car\n\n\n    console.log('asdasdasdasd')\n\n    try {\n      const response = await fetch(url, {\n        method: 'POST', // или 'PUT'\n        body: JSON.stringify(data), // данные могут быть 'строкой' или {объектом}!\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      // const json = await response.json();\n      // this.setState({response: json})\n      // this.forceUpdate()\n \n    } catch (error) {\n      console.error('Ошибка:', error);\n    }\n  \n  }\n\n  setNumber(e) {\n    this.state.number = e.target.value\n  }\n\n  setName(e) {\n    this.state.name = e.target.value\n  }\n\n  setExpiry(e) {\n    this.state.expiry = e.target.value\n  }\n\n  setCvc(e) {\n    this.state.cvc = e.target.value\n  }\n\n  setFocus(e) {\n    this.state.focus = e.target.name\n  }\n\n\n\n\n  render () {\n\n\n    return (\n      <div className=\"PaymentForm\">\n        <div className=\"Description\">\n          <h1>Please, enter your credit card details to make a payment</h1><br></br>\n        </div>\n        <div className=\"Card\">\n          <Cards\n            number={this.state.number}\n            name={this.state.name}\n            expiry={this.state.expiry}\n            cvc={this.state.cvc}\n            focused={this.state.focus}\n          />\n          <form>\n            <input\n              type=\"tel\"\n              name=\"number\"\n              placeholder=\"Card Number\"\n              maxLength={16}\n              value={this.state.number}\n              onChange={this.setNumber}\n              onFocus={this.setFocus}\n            />\n            <input\n              type=\"text\"\n              name=\"name\"\n              placeholder=\"Name\"\n              value={this.state.name}\n              maxLength={20}\n              onChange={this.setName}\n              onFocus={this.setFocus}\n            />\n            <input\n              type=\"text\"\n              name=\"expiry\"\n              placeholder=\"MM/YY\"\n              value={this.state.expiry}\n              maxLength={4}\n              onChange={this.setExpiry}\n              onFocus={this.setFocus}\n            />\n            <input\n              type=\"tel\"\n              name=\"cvc\"\n              placeholder=\"CVC\"\n              value={this.state.cvc}\n              maxLength={3}\n              onChange={this.setCvc}\n              onFocus={this.setFocus}\n            />\n            <button class=\"button-84\" role=\"button\" onClick={() => {this.submit(this.props.location)}}>PAY</button>\n          </form>\n        </div>\n      </div>\n    );\n\n  }\n \n}\n\n\nexport default withRouter(PaymentForm)"]},"metadata":{},"sourceType":"module"}