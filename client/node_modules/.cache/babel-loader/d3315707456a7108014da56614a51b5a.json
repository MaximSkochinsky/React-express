{"ast":null,"code":"var _jsxFileName = \"/home/max/Desktop/DealershipApp/client/src/Pages/PaymentForm.js\";\nimport { useState, useRef, useEffect } from \"react\";\nimport Cards from \"react-credit-cards\";\nimport \"react-credit-cards/es/styles-compiled.css\";\nimport \"./PaymentFormStyles.css\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport React from \"react\";\nimport { withRouter } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass PaymentForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cvc: '',\n      expiry: '',\n      focus: '',\n      name: '',\n      number: ''\n    };\n\n    this.handleInputFocus = e => {\n      this.setState({\n        focus: e.target.name\n      });\n    };\n\n    this.handleInputChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.submit = async () => {\n      const url = 'http://localhost:3001/payment';\n      let data = this.props.location;\n      data.state.client.id = localStorage.id;\n      data.state.client.userName = localStorage.user;\n      data.state.client.userName = localStorage.password;\n\n      try {\n        const response = await fetch(url, {\n          method: 'POST',\n          // или 'PUT'\n          body: JSON.stringify(data),\n          // данные могут быть 'строкой' или {объектом}!\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }); // const json = await response.json();\n        // this.setState({response: json})\n\n        this.forceUpdate();\n      } catch (error) {\n        console.error('Ошибка:', error);\n      }\n    };\n\n    this.submit = this.submit.bind(this);\n  }\n\n  render() {\n    console.log(this.props.location);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"PaymentForm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Description\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Please, enter your credit card details to make a payment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 76\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Card\",\n        children: [/*#__PURE__*/_jsxDEV(Cards, {\n          number: this.state.number,\n          name: this.state.name,\n          expiry: this.state.expiry,\n          cvc: this.state.cvc,\n          focused: this.state.focus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            name: \"number\",\n            placeholder: \"Card Number\",\n            maxLength: 16,\n            value: this.state.number,\n            onChange: this.handleInputChange,\n            onFocus: this.handleInputFocus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            placeholder: \"Name\",\n            value: this.state.name,\n            maxLength: 20,\n            onChange: this.handleInputChange,\n            onFocus: this.handleInputFocus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"expiry\",\n            placeholder: \"MM/YY\",\n            value: this.state.expiry,\n            maxLength: 4,\n            onChange: this.handleInputChange,\n            onFocus: this.handleInputFocus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            name: \"cvc\",\n            placeholder: \"CVC\",\n            value: this.state.cvc,\n            maxLength: 3,\n            onChange: this.handleInputChange,\n            onFocus: this.handleInputFocus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"button-84\",\n            role: \"button\",\n            onClick: () => {\n              this.submit(this.props.location);\n            },\n            children: \"PAY\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(PaymentForm);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/max/Desktop/DealershipApp/client/src/Pages/PaymentForm.js"],"names":["useState","useRef","useEffect","Cards","useLocation","useHistory","React","withRouter","PaymentForm","Component","constructor","props","state","cvc","expiry","focus","name","number","handleInputFocus","e","setState","target","handleInputChange","value","submit","url","data","location","client","id","localStorage","userName","user","password","response","fetch","method","body","JSON","stringify","headers","forceUpdate","error","console","bind","render","log"],"mappings":"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","sourcesContent":["import { useState, useRef, useEffect } from \"react\";\nimport Cards from \"react-credit-cards\";\nimport \"react-credit-cards/es/styles-compiled.css\";\nimport \"./PaymentFormStyles.css\"\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport React from \"react\";\nimport { withRouter } from \"react-router\";\n\n\n\n\n\nclass PaymentForm extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.submit = this.submit.bind(this)\n  }\n \n  state = {\n    cvc: '',\n    expiry: '',\n    focus: '',\n    name: '',\n    number: '',\n  };\n\n  handleInputFocus = (e) => {\n    this.setState({ focus: e.target.name });\n  }\n  \n  handleInputChange = (e) => {\n    const { name, value } = e.target;\n    \n    this.setState({ [name]: value });\n  }\n\n\n  submit = async () => {\n    const url = 'http://localhost:3001/payment';\n        let data = this.props.location\n        data.state.client.id = localStorage.id\n        data.state.client.userName = localStorage.user\n        data.state.client.userName = localStorage.password\n\n\n        try {\n          const response = await fetch(url, {\n            method: 'POST', // или 'PUT'\n            body: JSON.stringify(data), // данные могут быть 'строкой' или {объектом}!\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          });\n          // const json = await response.json();\n          // this.setState({response: json})\n          this.forceUpdate()\n     \n        } catch (error) {\n          console.error('Ошибка:', error);\n        }\n  }\n  \n\n\n  render () {\n\n    console.log(this.props.location)\n    return (\n      <div className=\"PaymentForm\">\n        <div className=\"Description\">\n          <h1>Please, enter your credit card details to make a payment</h1><br></br>\n        </div>\n        <div className=\"Card\">\n          <Cards\n            number={this.state.number}\n            name={this.state.name}\n            expiry={this.state.expiry}\n            cvc={this.state.cvc}\n            focused={this.state.focus}\n          />\n          <form>\n            <input\n              type=\"tel\"\n              name=\"number\"\n              placeholder=\"Card Number\"\n              maxLength={16}\n              value={this.state.number}\n              onChange={this.handleInputChange}\n              onFocus={this.handleInputFocus}\n            />\n            <input\n              type=\"text\"\n              name=\"name\"\n              placeholder=\"Name\"\n              value={this.state.name}\n              maxLength={20}\n              onChange={this.handleInputChange}\n              onFocus={this.handleInputFocus}\n            />\n            <input\n              type=\"text\"\n              name=\"expiry\"\n              placeholder=\"MM/YY\"\n              value={this.state.expiry}\n              maxLength={4}\n              onChange={this.handleInputChange}\n              onFocus={this.handleInputFocus}\n            />\n            <input\n              type=\"tel\"\n              name=\"cvc\"\n              placeholder=\"CVC\"\n              value={this.state.cvc}\n              maxLength={3}\n              onChange={this.handleInputChange}\n              onFocus={this.handleInputFocus}\n            />\n            <button class=\"button-84\" role=\"button\" onClick={() => {this.submit(this.props.location)}}>PAY</button>\n          </form>\n        </div>\n      </div>\n    );\n\n  }\n \n}\n\n\nexport default withRouter(PaymentForm)"]},"metadata":{},"sourceType":"module"}